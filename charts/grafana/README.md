# grafana

![Version: 0.0.1](https://img.shields.io/badge/Version-0.0.1-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 0.0.1](https://img.shields.io/badge/AppVersion-0.0.1-informational?style=flat-square)

A Helm chart for Grafana

## Requirements

- [helm 3](https://helm.sh/docs/intro/install/)
- These mandatory configuration values (if different from default values):
   - prometheus.serviceName: - The service name of the deployed prometheus image - Default value: `prometheus`
   - prometheus.servicePort: - The service port of the deployed prometheus image - Default value: `9090`

## Usage

- [Here](./README.md#values) is a full list of all configuration values.
- The [values.yaml file](./values.yaml) shows the raw view of all configuration values.

## Installation

### Quick install with internal service of type NodePort

By default, this helm chart installs the Prometheus as NodePort.
This is to prevent exposing the service to the internet by accident!

It is recommended to put non-sensitive configuration values in a configuration file and pass sensitive/secret values via commandline.

1. Download the values from helm chart `prometheus` and update them accordingly

    ```shell
    helm show values pharmaledger-imi/prometheus > my-values.yaml
    ```

2. Install via helm to namespace `default`

    ```bash
    helm upgrade my-release-name pharmaledger-imi/prometheus --version=0.0.1 \
        --install \
        --values my-values.yaml \
    ```

## Additional helm options

Run `helm upgrade --helm` for full list of options.

1. Install to other namespace

    You can install into other namespace than `default` by setting the `--namespace` parameter, e.g.

    ```bash
    helm upgrade my-release-name pharmaledger-imi/prometheus --version=0.0.1 \
        --install \
        --namespace=my-namespace \
        --values my-values.yaml \
    ```

2. Wait until installation has finished successfully and the deployment is up and running.

    Provide the `--wait` argument and time to wait (default is 5 minutes) via `--timeout`

    ```bash
    helm upgrade my-release-name pharmaledger-imi/prometheus --version=0.0.1 \
        --install \
        --wait --timeout=600s \
        --values my-values.yaml \
    ```

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| mastaleru |  | <https://github.com/mastaleru> |
| paiusCatalin |  | <https://github.com/paiusCatalin> |

## Values

*Note:* Please scroll horizontally to show more columns (e.g. description)!

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| configMap.customServer.mountPath | string | `"/etc/grafana/custom.ini"` |  |
| configMap.customServer.subPath | string | `"custom.ini"` |  |
| configMap.datasources.mountPath | string | `"/etc/grafana/provisioning/datasources/datasources.yml"` |  |
| configMap.datasources.subPath | string | `"datasources.yml"` |  |
| configMap.name | string | `"grafana-configuration"` |  |
| configMap.volumeName | string | `"grafana-config-volume"` |  |
| deployment.imageName | string | `"grafana/grafana:latest"` |  |
| deployment.imagePullPolicy | string | `"IfNotPresent"` |  |
| deployment.replicaSet | int | `1` |  |
| general.applicationDNS | string | `""` |  |
| general.defaultNamespace | string | `"default"` |  |
| general.httpPort | int | `3000` |  |
| general.name | string | `"grafana"` |  |
| prometheus.serviceName | string | `"prometheus"` |  |
| prometheus.servicePort | int | `9090` |  |
| storageVolume.mountPath | string | `"/var/lib/grafana"` |  |
| storageVolume.volumeName | string | `"grafana-storage-volume"` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.0](https://github.com/norwoodj/helm-docs/releases/v1.11.0)
